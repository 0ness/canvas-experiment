{"version":3,"sources":["../es2015/point-wave.js"],"names":[],"mappings":"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","file":"point-wave.js","sourcesContent":["(function (window,document) {\r\n\t\"use strict\";\r\n\t\r\n\t\r\n\t\r\n\r\n\t/*共通定数　このJS内部でグローバルに使う定数\r\n\t--------------------------------------------------------------------*/\r\n\tconst canvas = document.getElementById(\"myCanvas\"),\r\n\t\t  ctx\t = canvas.getContext(\"2d\");\r\n\r\n\tvar n_PI \t= Math.PI*2,\r\n\t\tn_Angle = n_PI<<1;\r\n\r\n\tvar windowWidth = window.innerWidth || document.body.clientWidth,\r\n\t\twindowHeight = window.innerHeight || document.body.clientHeight;//ウィンドウ高さ\r\n\r\n\tvar waveTime = 0;\r\n\r\n\t\r\n\r\n\t/*object Stats用オブジェクト\r\n\t--------------------------------------------------------------------*/\r\n\tvar stats = new Stats();\r\n\tstats.setMode( 0 );\r\n\tdocument.body.appendChild( stats.domElement );\r\n\tstats.domElement.style.position = \"fixed\";\r\n\tstats.domElement.style.right = \"5px\";\r\n\tstats.domElement.style.bottom = \"5px\";\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/*class\r\n\t--------------------------------------------------------------------*/\r\n\t//Dotルール生成\r\n\tclass Geometry {\r\n\t\tconstructor(){\r\n\t\t\tthis.ary \t\t\t= [];\r\n\t\t\tthis.composition \t= \"xor\";\r\n\t\t\tthis.alpha\t\t\t= 1;\r\n\t\t\tthis.fillAlpha\t\t= 0.9;\r\n\t\t\tthis.size \t\t\t= 2;\r\n\t\t\tthis.strokeWidth \t= 1;\r\n\t\t\t\r\n\t\t\tthis.width\t\t\t= windowWidth;\r\n\t\t\tthis.height\t\t\t= windowHeight;\r\n\t\t\t\r\n\t\t\tthis.xLength \t\t= 100;\r\n\t\t\tthis.yLength\t\t= 20;\r\n\t\t\tthis.xDistance\t\t= this.width / this.xLength;\r\n\t\t\tthis.yDistance\t\t= this.hegiht / this.yLength;\r\n\r\n\t\t\t//波長\r\n\t\t\tthis.waveHeight \t= 180;\r\n\t\t\tthis.waveOffset \t= 0.1;\r\n\t\t\tthis.waveSpd \t\t= 0;// 0.05;\r\n\r\n\t\t\t//視点\r\n\t\t\tthis.cameraX\t\t= 0;\r\n\t\t\tthis.cameraY\t\t= 500;\r\n\t\t\tthis.fl\t\t\t\t= 250;\r\n\r\n\t\t\tthis.fillColor \t\t= this.addRgbColor();\r\n\t\t\tthis.strokeColor \t= this.addRgbColor();\r\n\t\t\tthis.bgColor \t\t= \"#000\";\r\n\t\t\tthis.bgAlpha\t\t= 1;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * ポイント生成\r\n\t\t */\r\n\t\taddPointSet(){\r\n\t\t\tvar _fl \t= this.fl,\r\n\t\t\t\t_width \t= this.width;\r\n\t\t\t\r\n\t\t\tthis.ary = [];\r\n\t\t\tfor(let y=0; y<this.yLength; y++){\r\n\t\t\t\tthis.ary[y] = [];\r\n\r\n\t\t\t\tvar _pointY = y,\r\n\t\t\t\t\t_pointZ = y*20 + (this.yLength - y),\r\n\t\t\t\t\t_scale\t= _fl / (_fl + _pointZ),\r\n\t\t\t\t\t_diffX\t= (_width - _width * _scale) / 2,\r\n\t\t\t\t\t_diffX2 = (_width - windowWidth) / 2;\r\n\t\t\t\t\r\n\t\t\t\tfor(let x=0; x<this.xLength+1; x++){\r\n\t\t\t\t\tvar _scaleWidth \t= _scale*_width,\r\n\t\t\t\t\t\t_scaleDistance \t= _scaleWidth / this.xLength,\r\n\t\t\t\t\t\t_scaleMargin\t= (_width - _scaleWidth) / 2,\r\n\t\t\t\t\t\t_pointX \t\t= x * _scaleDistance + _scaleMargin;\r\n\t\t\t\t\tthis.ary[y][x] = new Point({\r\n\t\t\t\t\t\tx\t\t: _pointX,\r\n\t\t\t\t\t\ty\t\t: _pointY,\r\n\t\t\t\t\t\tz\t\t: _pointZ,\r\n\t\t\t\t\t\tscale\t: _scale\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\taddRgbColor(_alpha=0.9){\r\n\t\t\tvar _r = (Math.random()*255)>>0,\r\n\t\t\t\t_g = (Math.random()*255)>>0,\r\n\t\t\t\t_b = (Math.random()*255)>>0;\r\n\t\t\treturn \"rgba(\"+_r+\", \"+_g+\", \"+_b+\",\"+_alpha+\")\";\r\n\t\t}\r\n\t\taddBgColor(){\r\n\t\t\tvar _max_01 = 200,\r\n\t\t\t\t_r = Math.floor(Math.random() * _max_01),\r\n\t\t\t\t_g = Math.floor(Math.random() * _max_01),\r\n\t\t\t\t_b = Math.floor(Math.random() * _max_01);\r\n\t\t\treturn \"rgb(\"+_r+\", \"+_g+\", \"+_b+\")\";\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 下地作成\r\n\t\t */\r\n\t\tbaseDraw(){\r\n\t\t\tvar _c = ctx;\r\n\t\t\t_c.globalAlpha = this.bgAlpha;\r\n\t\t\t_c.fillStyle \t= this.bgColor;\r\n\t\t\t_c.fillRect(0,0,windowWidth,windowHeight);\r\n\t\t\t_c.globalCompositeOperation = this.composition;\r\n\r\n\t\t\t_c.globalAlpha \t= 1;\r\n\t\t\t_c.fillStyle \t= _c.strokeStyle = this.fillColor;\r\n\t\t\t_c.lineWidth \t= this.strokeWidth;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 描画\r\n\t\t */\r\n\t\tdraw(){\r\n\t\t\tvar _ary \t= this.ary,\r\n\t\t\t\t_c \t\t= ctx,\r\n\t\t\t\t_endAngle\t= Math.PI/180,\r\n\t\t\t\t_dot,\r\n\t\t\t\t_yLength = _ary.length,\r\n\t\t\t\t_xLength = this.xLength+1;\r\n\t\t\t\r\n\t\t\tthis.baseDraw();\r\n\t\t\t\r\n\t\t\t//x軸の描画\r\n\t\t\tfor(var y=0; y<_yLength; y++){\r\n\t\t\t\tvar _lineWidth = 1 - ( Math.abs(_yLength/2 - y) * 0.2);\r\n\t\t\t\t_c.lineWidth = (_lineWidth < 0.1)?0.1:_lineWidth;\r\n\t\t\t\t\r\n\t\t\t\t_dot = _ary[y][0];\r\n\t\t\t\t_dot.ny = this.waveMotion(_dot.x,_dot.z,_dot.y,waveTime)\r\n\t\t\t\t_c.beginPath();\r\n\t\t\t\t_c.moveTo(_dot.x,_dot.ny);\r\n\t\t\t\tfor(var x=1; x<_xLength; x++){\r\n\t\t\t\t\t_dot = _ary[y][x];\r\n\t\t\t\t\t_dot.ny = this.waveMotion(_dot.x,_dot.z,_dot.y,waveTime)\r\n\t\t\t\t\t_c.lineTo(_dot.x,_dot.ny);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t_c.stroke();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//y軸の描画\r\n\t\t\tfor(var x=0; x<_xLength; x++){\r\n\t\t\t\tvar _lineWidth = 1 - (Math.abs(_xLength/2 - x) * 0.2);\r\n\t\t\t\t_c.lineWidth = (_lineWidth < 0.1)?0.1:_lineWidth;\r\n\r\n\t\t\t\t_dot = _ary[0][x];\r\n\t\t\t\t_c.beginPath();\r\n\t\t\t\t_c.moveTo(_dot.x,_dot.ny);\r\n\t\t\t\tfor(var y=1; y<_yLength; y++){\r\n\t\t\t\t\t_dot = _ary[y][x];\r\n\t\t\t\t\t_c.lineTo(_dot.x,_dot.ny);\r\n\t\t\t\t}\r\n\t\t\t\t_c.stroke();\r\n\t\t\t};\r\n\t\t\twaveTime ++;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 波の動き\r\n\t\t * @param   {number} x x座標\r\n\t\t * @param   {number} y y座標\r\n\t\t * @param   {number} t モーションの時間\r\n\t\t *　@returns {number} 次のy座標\r\n\t\t */\r\n\t\twaveMotion(x, y,_adust, t) {\r\n\t\t\tvar _height = this.waveHeight,\r\n\t\t\t\t_spd \t= 10,\r\n\t\t\t\t_offset = this.waveOffset,\r\n\t\t\t\t_time\t= t * this.waveSpd,\r\n\t\t\t\t_calcY  = Math.sin( ( x / 20 ) * _offset + ( _time / _spd ) ) * Math.cos( ( y / 20 ) * _offset + ( _time / _spd ) ) * _height;\r\n\t\t\treturn _calcY + _adust + this.cameraY;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t//各ポイント用\r\n\tclass Point {\r\n\t\tconstructor(_param){\r\n\t\t\tthis.x \t\t= _param.x;\r\n\t\t\tthis.y \t\t= _param.y;\r\n\t\t\tthis.z \t\t= _param.z;\r\n\t\t\tthis.ny\t\t= 0;\r\n\t\t\tthis.scale \t= _param.scale;\r\n\t\t\tthis.angle \t= 0;\r\n\t\t\tthis.size\t= ((10 * this.scale) * 100 |0 ) /100;\r\n\t\t}\r\n\t\tdraw(){\r\n\t\t\tvar _c = ctx;\r\n\t\t\t_c.beginPath();\r\n\t\t\t_c.arc(this.x,this.y,this.size,0,n_Angle,false);\r\n\t\t\t_c.fill();\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar geometry = new Geometry();\r\n\r\n\r\n\t\r\n\t/*object dat.GUI用オブジェクト\r\n\t--------------------------------------------------------------------*/\r\n\tvar GUI = new dat.GUI();\r\n\tGUI.remember(geometry);\r\n//\tGUI.add(dot, 'length',10,300).onChange(function(_val){\r\n//\t\tdot.length = _val|0;\r\n//\t\tdot.addPointSet();\r\n//\t});\r\n\tGUI.add(geometry,\"cameraY\",-1000,1000);\r\n\tGUI.add(geometry,\"waveHeight\",0,200);\r\n\tGUI.add(geometry,\"waveOffset\",0,1);\r\n\tGUI.add(geometry,\"waveSpd\",0,0.5);\r\n\tGUI.add(geometry,'strokeWidth',0,20);\r\n\tGUI.add(geometry,'composition',[\"xor\",\"lighter\",\"multiply\",\"difference\",\"source-over\"]);\r\n\tGUI.addColor(geometry, 'fillColor');\r\n\tGUI.addColor(geometry, 'bgColor').onChange(function(_val) {\r\n\t\tcanvas.style.backgroundColor = _val;\r\n\t});\r\n\tGUI.add(geometry,'bgAlpha',0,1);\r\n\r\n\t\r\n\r\n\r\n\t/*contents 処理\r\n\t--------------------------------------------------------------------*/\r\n\r\n\t//process 描画\r\n\tvar loop = function(){\r\n\t\tstats.begin();\r\n\t\tgeometry.draw();\r\n\t\tstats.end();\r\n\t\twindow.requestAnimationFrame(loop);\r\n\t};\r\n\t\r\n\r\n\t\r\n\t\r\n\t/*object リサイズ用オブジェクト\r\n\t--------------------------------------------------------------------*/\r\n\tvar resizeEvent = ()=>{\r\n\t\twindowWidth = window.innerWidth || document.body.clientWidth;\r\n\t\twindowHeight = window.innerHeight || document.body.clientHeight;\r\n\t\tcanvas.width = windowWidth;\r\n\t\tcanvas.height = windowHeight;\r\n\t};\r\n\r\n\r\n\t\r\n\t\r\n\t/*contents 開始\r\n\t--------------------------------------------------------------------*/\r\n\tcanvas.style.backgroundColor = geometry.bgColor;\r\n\twindow.addEventListener(\"resize\",resizeEvent);\r\n\tresizeEvent();\r\n\tgeometry.addPointSet();\r\n\tloop();\r\n\r\n\t\r\n\t\r\n}(window,document));"]}